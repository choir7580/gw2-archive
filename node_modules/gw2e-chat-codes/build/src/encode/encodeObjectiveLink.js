"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.encodeObjectiveLink = void 0;
var static_1 = require("../static");
var ChatCodeStruct_1 = require("../ChatCodeStruct");
function encodeObjectiveLink(meta) {
    // Parse the objective ID and make sure the IDs are valid
    var objectiveIdSplit = ('' + meta.id).split('-');
    var map = parseInt(objectiveIdSplit[0]);
    var id = parseInt(objectiveIdSplit[1]);
    if (isNaN(map) || map < 0)
        return false;
    if (isNaN(id) || id < 0)
        return false;
    var struct = new ChatCodeStruct_1.ChatCodeStruct();
    // Add the header describing the type of the chat code
    struct.write1Byte(static_1.TYPE_HEADERS.objective);
    // Encode the objective identifier
    struct.write3Bytes(id);
    struct.write1Byte(0x00);
    // Encode the wvw map identifier
    struct.write3Bytes(map);
    struct.write1Byte(0x00);
    return struct.encodeToChatCode();
}
exports.encodeObjectiveLink = encodeObjectiveLink;
//# sourceMappingURL=encodeObjectiveLink.js.map